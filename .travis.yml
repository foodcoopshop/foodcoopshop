language: php
dist: xenial
sudo: required

php:
  - 7.2
  - 7.3

services:
  - mysql

addons:
    hosts:
        - www.foodcoopshop.test

env:
  - DB=mysql

before_script:
  # Travis Setup script
  - ./devtools/travis_setup.sh

script:
  # phpstan
  - vendor/bin/phpstan analyze -c phpstan.neon --no-interaction --no-progress
  # PHPUnit
  - vendor/bin/phpunit --stderr
  # - sudo cat ./logs/error.log

notifications:
  email: false
